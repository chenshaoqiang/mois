!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n=window.webpackJsonp;window.webpackJsonp=function(c,o){for(var p,l,s=0,i=[];s<c.length;s++)l=c[s],a[l]&&i.push.apply(i,a[l]),a[l]=0;for(p in o)Object.prototype.hasOwnProperty.call(o,p)&&(e[p]=o[p]);for(n&&n(c,o);i.length;)i.shift().call(null,t);if(o[0])return r[0]=0,t(0)};var r={},a={0:0};t.e=function(e,n){if(0===a[e])return n.call(null,t);if(void 0!==a[e])a[e].push(n);else{a[e]=[n];var r=document.getElementsByTagName("head")[0],c=document.createElement("script");c.type="text/javascript",c.charset="utf-8",c.async=!0,c.src=t.p+""+e+"."+({1:"index"}[e]||e)+".js?925bb1f8bcfb12799c70-"+{1:"004a3930ec3c7dee300e"}[e],r.appendChild(c)}},t.m=e,t.c=r,t.p=""}([]);webpackJsonp([1,0],[function(e,t,n){function i(){l=new THREE.Scene,f=new THREE.PerspectiveCamera(P,window.innerWidth/window.innerHeight,1,1e3),f.target=new THREE.Vector3(0,0,0),f.position.set(0,0,0),l.add(f),E=new THREE.Mesh(new THREE.CylinderGeometry(150,150,210,100,100,!0),new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("img/28.jpg"),transparent:!0,side:THREE.DoubleSide})),E.scale.x=-1,l.add(E),m=new THREE.WebGLRenderer,x=m.domElement,_.appendChild(m.domElement),v=new THREE.StereoEffect(m),o(),window.addEventListener("resize",a,!1)}function o(){requestAnimationFrame(o);var e=window.innerWidth,t=window.innerHeight;f.fov=P,f.aspect=e/t,f.updateProjectionMatrix(),A=Math.max(-90,Math.min(90,A)),S=THREE.Math.degToRad(90-A),k=THREE.Math.degToRad(R),f.target.x=500*Math.sin(S)*Math.cos(k),f.target.y=500*Math.cos(S),f.target.z=500*Math.sin(S)*Math.sin(k),f.lookAt(f.target),W?($("#vrIcon").hide(),Q?(m.setSize(parseInt($("#wrap").css("width")),parseInt($("#wrap").css("height"))),v.setSize(parseInt($("#wrap").css("width")),parseInt($("#wrap").css("height"))),f.aspect=parseInt($("#wrap").css("width"))/parseInt($("#wrap").css("height"))):(m.setSize(e,t),v.setSize(e,t),f.aspect=e/t),f.updateProjectionMatrix(),v.render(l,f)):($("#vrIcon").show(),$(".turnIcon").hide(),m.setSize(e,t),v.setSize(e,t),f.aspect=e/t,f.updateProjectionMatrix(),m.render(l,f))}function a(){function e(){90==window.orientation||window.orientation==-90?r(".wrap","back"):W&&($(".wrap").removeAttr("style"),r(".wrap","turn"))}getScale(),f.aspect=window.innerWidth/window.innerHeight,f.updateProjectionMatrix(),m.setSize(window.innerWidth,window.innerHeight),X?setTimeout(function(){e()},300):e()}function r(e,t){var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;"turn"==t?(Q=!0,$(e).width(i),$(e).height(n),$(e).css({"transform-origin":"50% 50%","-webkit-transform-origin":"50% 50%",transform:"rotate(90deg) translate("+(i-n)/2+"px,"+(i-n)/2+"px)","-webkit-transform":"rotate(90deg) translate("+(i-n)/2+"px,"+(i-n)/2+"px)","-moz-transform":"rotate(90deg) translate("+(i-n)/2+"px,"+(i-n)/2+"px)","-ms-transform":"rotate(90deg) translate("+(i-n)/2+"px,"+(i-n)/2+"px)"})):"back"==t&&(Q=!1,$(e).removeAttr("style"))}function s(){L?(h(),$("#gyro").attr("class","gyro_icon open"),window.addEventListener("deviceorientation",w,!1)):($("#gyro").attr("class","gyro_icon close"),window.removeEventListener("deviceorientation",w,!1))}function c(){z?h():d()}function d(){z=!0,L=!1,s(),$("#switch_div").attr("class","switch_div pause"),I=setInterval(function(){R+=.2,Math.abs(R)>360&&(R=0)},20)}function h(){z=!1,$("#switch_div").attr("class","switch_div play"),clearInterval(I)}function w(e){M&&(M-e.alpha>=0?M-e.alpha>=.3&&(R+=1.2):M-e.alpha<=0&&M-e.alpha<=-.3&&(R-=1.2)),M=e.alpha}function u(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function p(e){"switch_div"!=e.target.id?h():void 0,y=e.touches[0].clientX,b=e.touches[0].clientY,H=R,T=A,2===e.touches.length&&(O.start=u({x:e.touches[0].pageX,y:e.touches[0].pageY},{x:e.touches[1].pageX,y:e.touches[1].pageY}))}function g(e){if(e.preventDefault(),e.touches.length<2)Q?b-e.touches[0].clientY>0?R+=2:R-=2:y-e.touches[0].clientX>0?R+=2:R-=2,Math.abs(R)>360&&(R=0);else if(2===e.touches.length){O.stop=u({x:e.touches[0].pageX,y:e.touches[0].pageY},{x:e.touches[1].pageX,y:e.touches[1].pageY});var t=O.stop/O.start;t>1?P-=.3:P+=.3,P<=30?P=30:P>=70?P=70:void 0}}n(1);var l,f,m,v,x,E,M,y,b,H,T,I,P=70,R=0,S=0,k=0,A=0,O={},z=!1,L=!1,W=!1,Q=!1,_=document.getElementById("container"),X=!1,Y={versions:function(){var e=navigator.userAgent;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")==-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:e.indexOf("Safari")==-1,weixin:e.indexOf("MicroMessenger")>-1,QQ:" QQ"==e.match(/\sQQ/i)}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};(Y.versions.mobile||Y.versions.android||Y.versions.ios)&&(/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?X=!0:/(Android)/i.test(navigator.userAgent)),i(),$("#switch_div").on("click",function(){c()}),$("#exit").on("click",function(){W=!1,$("#showInfo").show(),$("#vrIcon").show(),$("#exit").hide(),r(".wrap","back")}),$("#vrIcon").on("click",function(e){e.stopPropagation(),W=!W,W&&(Y.versions.android&&Y.versions.QQ?$(document).fullScreen(!0):void 0,$("#showInfo").hide(),$("#exit").show(),setTimeout(function(){0!=window.orientation&&180!=window.orientation||($(".wrap").removeAttr("style"),r(".wrap","turn"))},300),L=!0,s())}),$("#gyro").on("click",function(){L=!L,s()}),document.addEventListener("touchstart",p,!1),document.addEventListener("touchmove",g,!1)},function(e,t){}]);